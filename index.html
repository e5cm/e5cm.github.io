<!DOCTYPE html>
<html lang="en">
<link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
<script src="data.js"></script>
<script src="https://cdn.bootcss.com/angular.js/1.6.8/angular.min.js"></script>
<script src="https://cdn.bootcss.com/angular.js/1.6.8/angular-touch.min.js"></script>
<script src="https://cdn.bootcss.com/angular-ui-bootstrap/0.14.3/ui-bootstrap-tpls.js"></script>
<script src="js/e5Show.js"></script>
<script src="js/e5.js"></script>
<head>
    <meta charset="UTF-8" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;" name="viewport" />
    <title>E5</title>
    <style>
        .figure {
            margin: .5em;
            max-width: 100%;
        }

        .inner {
            border: 10px solid hsla(333, 50%, 60%, .8);
            border-radius: 10px;
        }

        .image-wrapper {
            background: url("http://w3cplus-cdn2.u.qiniudn.com/sites/default/files/blogs/2014/1401/flexible-image.jpg") no-repeat center;
            /*background: url("background.jpg") no-repeat center;*/
            background-size: cover;
            padding-top: 50%;
            /*border: 1px solid #FF00FF;*/
        }

        p {
            background-color: hsla(333, 50%, 60%, .8);
            padding: 10px 10px 0;
            color: #fff;
        }

        div.container
        {
            padding:0;
            margin-top: -50%;
            /*border: 1px solid #0000FF;*/
            width: 100%;
            height: 300%;
            overflow: hidden;
        }
        div.container ul
        {
            width: 150%;
            padding:0;
            /*border: 1px solid #000000;*/
            margin-left: -25%;
        }
        /*html, body{ margin:0; height:100%; }*/
        div.container ul li
        {

            float:left; /* 向左漂移，将竖排变为横排 */
            height: 50%;
            width: 16.66%;
            list-style:none;
            /*border: 1px solid #55a532;*/
        }

        div.img-div{
            max-width: 100%;
            padding-top: 80%;
            padding-left: 10%;
            padding-right: 10%;
            /*border: 1px solid #FF0000;*/

            background-size:40%;
        }
        div.img-div.not-empty{
            background: url("img/loading.gif") no-repeat center;
            background-size:30% 30%;
        }
        img.e5-img{
            max-width: 100%;
            margin-top: -100%;
        }

        div.slide
        {
            color:#fff;
            font-size:.9em;
            width:4%;
            padding-top:4%;
            border:2px solid  #CCC;
            border-radius: 20%;
            position:absolute;
            margin-top:19%;
            cursor:pointer;
            background: url("img/slide.png") no-repeat center;
            background-size: 120%;
            /*background: -webkit-linear-gradient(-90deg, blue, darkblue, blue); !* Safari 5.1 - 6.0 *!*/
            /*background: -o-linear-gradient(-90deg, blue, darkblue, blue); !* Opera 11.1 - 12.0 *!*/
            /*background: -moz-linear-gradient(-90deg, blue, darkblue, blue); !* Firefox 3.6 - 15 *!*/
            /*background: linear-gradient(-90deg, blue, darkblue, blue); !* 标准的语法（必须放在最后） *!*/

        }
        div.slide.flipx {
            -moz-transform:scaleX(-1);
            -webkit-transform:scaleX(-1);
            -o-transform:scaleX(-1);
            transform:scaleX(-1);
            /*IE*/
            filter:FlipH;
        }

        div.slide:hover
        {
            background-color:#b20808;
        }

        @keyframes slidePreAni {
            from {
                margin-left: -25%;
            }
            to {
                margin-left: 0%;
            }
        }

        @keyframes slideNextAni {
            from {
                margin-left: -25%;
            }
            to {
                margin-left: -50%;
            }
        }
        .pre{
            animation: 200ms slidePreAni;
        }
        .next{
            animation: 200ms slideNextAni;
        }

        @keyframes slidePreAniPage {
            from {
                margin-left: -25%;
            }
            to {
                margin-left: 50%;
            }
        }

        @keyframes slideNextAniPage {
            from {
                margin-left: -25%;
            }
            to {
                margin-left: -125%;
            }
        }

        .pre-page{
            animation: 200ms slidePreAniPage;
        }
        .next-page{
            animation: 200ms slideNextAniPage;
        }

        /*弹窗top*/
        .modal-dialog{
            padding-top:10%;
            margin: 0 auto;
            width:40%;
        }
        .modal-content{
            min-width: 0;
            border-radius: 10px;

        }

        .img-pop-div{

        }
        .img-pop{
            width:100%;
            border-radius: 8px 8px 0 0;
        }

        .btn-group-lg{
            width: 100%;

        }
        button.btn{
            width: 50%;
        }

        .btn-group-lg>.btn{
            border-radius: 0;
        }
    </style>
</head>
<body ng-app="songApp" ng-controller="songCtrl">
<div class="figure">
    <div class="inner">
        <div class="image-wrapper">
            <div class="container" swipe-able="true">
                <div class="slide flipx" ng-click="slidePre()" style="left:3%"></div>
                <div class="slide" ng-click="slideNext()" style="right:3%"></div>
                <ul ng-class="slide">
                    <li ng-repeat="song in songsToShow">
                        <div class="img-div" ng-class="song.code | notEmpty">
                            <img ng-src='e5img/{{ song.code }}.jpg' class="e5-img" ng-click="openModal(song)"/>
                        </div>
                    </li>
                </ul>
            </div>

        </div>
        <p class="figcaption">Lo, the robot walks</p>
        <input ng-model="codeFilter" ng-change="codeFilterChange()"/>
    </div>
</div>
<div data-ng-init="load()" ></div>
<div style="display: none">
    <img ng-repeat="song in songsPreLoad" ng-src='e5img/{{ song.code }}.jpg'/>
</div>
<!--弹出框-->
<script type="text/ng-template" id="modal.html">
    <div>
        <div class="img-pop-div" ng-class="data | notEmpty">
            <img ng-src='e5img/{{ song.code }}.jpg' class="img-pop"/>
        </div>
        <div class="btn-group btn-group-lg">
            <button class="btn-primary btn" ng-click="orpheus(song.orpheus)" style="border-bottom-left-radius:8px;">
                网易云音乐
            </button>
            <button class="btn-warning btn" ng-click="cancel()" style="border-bottom-right-radius:8px;">
                B站脚谱视频
            </button>
        </div>
    </div>
</script>

</body>

</html>